require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([3],{27:function(e,t,n){"use strict";var o=r(n(2)),a=r(n(28));function r(e){return e&&e.__esModule?e:{default:e}}Page((0,o.default)(a.default))},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=n.n(o),r=n(31),s=!1;var i=function(e){s||n(29)},u=n(1)(a.a,r.a,i,null,null);u.options.__file="..\\..\\..\\..\\A\\my\\readbook\\client\\pages\\login\\login.vue",u.esModule&&Object.keys(u.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),u.options.functional&&console.error("[vue-loader] login.vue: functional components are not supported with templates, they should use render functions."),t.default=u.exports},29:function(e,t){},30:function(e,t,n){"use strict";(function(e){var o,a,r;Object.defineProperty(t,"__esModule",{value:!0});var s=n(3);t.default={data:function(){return{}},methods:{getUserInfo:function(t){t=t.mp.detail.userInfo;var n=e.getStorageSync("sign");e.request({url:o.apiServer+"member&m=login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{openid:a,name:t.nickName,face:t.avatarUrl,sign:n},success:function(t){"ok"==(t=t.data).status?(e.showToast({title:"登录成功"}),e.setStorageSync("SUID",t.data.u_id+""),e.setStorageSync("SRAND",t.data.u_random+""),e.setStorageSync("SNAME",t.data.u_name+""),e.setStorageSync("SFACE",t.data.u_face+""),1==r.backtype?e.redirectTo({url:r.backpage}):e.switchTab({url:r.backpage})):e.showToast({title:"登录失败"})},fail:function(){},complete:function(){}})}},onLoad:function(t){s.sign(this.apiServer),o=this,r=t,e.login({success:function(t){e.request({url:o.apiServer+"member&m=codeToSession&code="+t.code,success:function(e){e.data.session_key,a=e.data.openid}})}})}}}).call(t,n(0).default)},31:function(e,t,n){"use strict";var o=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"loginbtn"},[t("button",{attrs:{type:"primary","open-type":"getUserInfo",eventid:"DUP-0"},on:{getuserinfo:this.getUserInfo}},[this._v("使用微信登录")])],1)};o._withStripped=!0;var a={render:o,staticRenderFns:[]};t.a=a}},[27]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/login/login.js.map