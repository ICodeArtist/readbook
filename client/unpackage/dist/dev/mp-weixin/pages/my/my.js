require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([2],{22:function(t,e,a){"use strict";var s=r(a(2)),i=r(a(23));function r(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},23:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(25),i=a.n(s),r=a(26),n=!1;var o=function(t){n||a(24)},c=a(1)(i.a,r.a,o,null,null);c.options.__file="..\\..\\..\\..\\A\\my\\readbook\\client\\pages\\my\\my.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] my.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},24:function(t,e){},25:function(t,e,a){"use strict";(function(t){var a,s,i;Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{myFace:"",user:{},arts:[],loadMore:"点击加载更多"}},onLoad:function(){a=this;var t=this.checkLogin("../my/my",2);t&&(this.myFace=t[3])},onShow:function(){(s=this.checkLogin("../my/my",2))&&(t.request({url:this.apiServer+"my&m=info",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{uid:s[0],random:s[1]},success:function(t){"ok"==t.data.status&&(a.user=t.data.data)}}),a.arts=[],i=1,a.loadMore="点击加载更多",a.getArtList())},methods:{logoff:function(){t.removeStorageSync("SUID"),t.removeStorageSync("SRAND"),t.showToast({title:"您已退出",icon:"none"}),setTimeout(function(){t.switchTab({url:"../index/index"})},1e3)},getArtList:function(){var e=this;"点击加载更多"==this.loadMore&&(this.loadMore="加载中...",t.request({url:this.apiServer+"my&m=arts&page="+i,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{uid:s[0],random:s[1]},success:function(t){"ok"==t.data.status?(e.arts=e.arts.concat(t.data.data),i++,e.loadMore="点击加载更多"):"empty"==t.data.status?e.loadMore="已经加载全部":e.loadMore="点击加载更多"}}))},removeArt:function(e){var i=e.currentTarget.dataset.artid,r=e.currentTarget.dataset.index;t.showModal({title:"提示",content:"确定要删除吗?",success:function(e){1==e.confirm&&t.request({url:a.apiServer+"my&m=removeArt",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{uid:s[0],random:s[1],artId:i},success:function(e){"ok"==e.data.status?(t.showToast({title:"已删除",icon:"none"}),a.arts.splice(r,1),a.user.u_integral-=1):t.showToast({title:"删除失败",icon:"none"})}})}})},editArt:function(e){var a=e.currentTarget.dataset.artid;t.navigateTo({url:"../editArt/editArt?artId="+a})}}}}).call(e,a(0).default)},26:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"grace-padding"},[a("view",{staticClass:"myface"},[a("image",{attrs:{src:t.myFace,mode:"widthFix"}})]),a("view",{staticStyle:{"text-align":"center",margin:"10px 0"}},[t._v("\n\t\t\t"+t._s(t.user.u_name)+" "),a("text",{staticStyle:{color:"#888888"},attrs:{eventid:"kyk-0"},on:{tap:t.logoff}},[t._v("注销")])]),a("view",{staticClass:"grace-box-banner",staticStyle:{margin:"10rpx 0"}},[a("view",{staticClass:"garce-items"},[a("view",{staticClass:"line1"},[t._v(t._s(t.user.artCount))]),a("view",{staticClass:"line2"},[t._v("文章")])]),a("view",{staticClass:"garce-items"},[a("view",{staticClass:"line1"},[t._v(t._s(t.user.u_integral))]),a("view",{staticClass:"line2"},[t._v("R币")])]),a("view",{staticClass:"garce-items"},[a("view",{staticClass:"line1"},[t._v(t._s(t.user.u_remainder))]),a("view",{staticClass:"line2"},[t._v("徽章")])]),t._m(0)]),t._m(1),t._l(t.arts,function(e,s){return a("view",{key:s,staticClass:"grace-rows myart-list"},[a("view",{staticClass:"grace-items grace-center title",staticStyle:{width:"20%","margin-right":"15px","flex-shrink":"0"}},[t._v("\n\t\t\t\t"+t._s(e.art_title)+"\n\t\t\t")]),a("view",{staticClass:"grace-items grace-center btns",staticStyle:{width:"100%"}},[a("view",{attrs:{"data-artid":e.art_id,eventid:"lJS-1-"+s},on:{tap:t.editArt}},[t._v("编辑")]),a("view",{attrs:{"data-artid":e.art_id,"data-index":s,eventid:"pOf-2-"+s},on:{tap:t.removeArt}},[t._v("删除")])])])}),a("view",{staticClass:"loadMore",attrs:{eventid:"i7X-3"},on:{tap:t.getArtList}},[t._v(t._s(t.loadMore))])],2)};s._withStripped=!0;var i={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"garce-items"},[e("view",{staticClass:"line1"},[this._v("0")]),e("view",{staticClass:"line2"},[this._v("消息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"grace-title grace-nowrap grace-space-between"},[e("view",{staticClass:"grace-h5 grace-blod"},[this._v("我发布的")])])}]};e.a=i}},[22]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/my/my.js.map