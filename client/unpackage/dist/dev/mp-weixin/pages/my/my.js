require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([3],{26:function(t,e,a){"use strict";var s=r(a(2)),i=r(a(27));function r(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},27:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(29),i=a.n(s),r=a(30),n=!1;var o=function(t){n||a(28)},c=a(1)(i.a,r.a,o,null,null);c.options.__file="..\\..\\..\\..\\A\\my\\readbook\\client\\pages\\my\\my.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] my.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},28:function(t,e){},29:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s,i,r,n,o=a(15),c=(s=o)&&s.__esModule?s:{default:s};e.default={components:{led:c.default},data:function(){return{arr:[1,2,3,4,5,6,7,8,9,0],version:"0",myFace:"",user:{},arts:[],loadMore:"点击加载更多"}},onLoad:function(){var t=this;setTimeout(function(){t.arr=[0,9,8,7,6,5,4,3,2,1]},2e3),i=this;var e=this.checkLogin("../my/my",2);e&&(this.myFace=e[3])},onShow:function(){this.version=t.getStorageSync("V"),(r=this.checkLogin("../my/my",2))&&(t.request({url:this.apiServer+"my&m=info",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{uid:r[0],random:r[1]},success:function(t){"ok"==t.data.status&&(i.user=t.data.data)}}),i.arts=[],n=1,i.loadMore="点击加载更多",i.getArtList())},methods:{logoff:function(){t.removeStorageSync("SUID"),t.removeStorageSync("SRAND"),t.showToast({title:"您已退出",icon:"none"}),setTimeout(function(){t.switchTab({url:"../index/index"})},1e3)},getArtList:function(){var e=this;"点击加载更多"==this.loadMore&&(this.loadMore="加载中...",t.request({url:this.apiServer+"my&m=arts&page="+n,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{uid:r[0],random:r[1]},success:function(t){"ok"==t.data.status?(e.arts=e.arts.concat(t.data.data),n++,e.loadMore="点击加载更多"):"empty"==t.data.status?e.loadMore="已经加载全部":e.loadMore="点击加载更多"}}))},removeArt:function(e){var a=e.currentTarget.dataset.artid,s=e.currentTarget.dataset.index;t.showModal({title:"提示",content:"确定要删除吗?",success:function(e){1==e.confirm&&t.request({url:i.apiServer+"my&m=removeArt",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{uid:r[0],random:r[1],artId:a},success:function(e){"ok"==e.data.status?(t.showToast({title:"已删除",icon:"none"}),i.arts.splice(s,1),i.user.u_integral-=1):t.showToast({title:"删除失败",icon:"none"})}})}})},editArt:function(e){var a=e.currentTarget.dataset.artid;t.navigateTo({url:"../editArt/editArt?artId="+a})}}}}).call(e,a(0).default)},30:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"1"==t.version?a("view",{staticClass:"grace-padding"},[a("view",{staticClass:"myface"},[a("image",{attrs:{src:t.myFace,mode:"widthFix"}})]),a("view",{staticStyle:{"text-align":"center",margin:"10px 0"}},[t._v("\n\t\t\t"+t._s(t.user.u_name)+" "),a("text",{staticStyle:{color:"#888888"},attrs:{eventid:"On9-0"},on:{tap:t.logoff}},[t._v("注销")])]),a("view",{staticClass:"grace-box-banner",staticStyle:{margin:"10rpx 0"}},[a("view",{staticClass:"garce-items"},[a("view",{staticClass:"line1"},[t._v(t._s(t.user.artCount))]),a("view",{staticClass:"line2"},[t._v("文章")])]),a("view",{staticClass:"garce-items"},[a("view",{staticClass:"line1"},[t._v(t._s(t.user.u_integral))]),a("view",{staticClass:"line2"},[t._v("R币")])]),a("view",{staticClass:"garce-items"},[a("view",{staticClass:"line1"},[t._v(t._s(t.user.u_remainder))]),a("view",{staticClass:"line2"},[t._v("徽章")])]),t._m(0)]),t._m(1),t._l(t.arts,function(e,s){return a("view",{key:s,staticClass:"grace-rows myart-list"},[a("view",{staticClass:"grace-items grace-center title",staticStyle:{width:"20%","margin-right":"15px","flex-shrink":"0"}},[t._v("\n\t\t\t\t"+t._s(e.art_title)+"\n\t\t\t")]),a("view",{staticClass:"grace-items grace-center btns",staticStyle:{width:"100%"}},[a("view",{attrs:{"data-artid":e.art_id,eventid:"vk3-1-"+s},on:{tap:t.editArt}},[t._v("编辑")]),a("view",{attrs:{"data-artid":e.art_id,"data-index":s,eventid:"1w6-2-"+s},on:{tap:t.removeArt}},[t._v("删除")])])])}),a("view",{staticClass:"loadMore",attrs:{eventid:"HPK-3"},on:{tap:t.getArtList}},[t._v(t._s(t.loadMore))])],2):a("view",{staticClass:"grace-padding"},[a("view",{staticClass:"waittext"},[a("led",{attrs:{mode:2,mpcomid:"pQ4-0"}})],1)])};s._withStripped=!0;var i={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"garce-items"},[e("view",{staticClass:"line1"},[this._v("0")]),e("view",{staticClass:"line2"},[this._v("消息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"grace-title grace-nowrap grace-space-between"},[e("view",{staticClass:"grace-h5 grace-blod"},[this._v("我发布的")])])}]};e.a=i}},[26]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/my/my.js.map