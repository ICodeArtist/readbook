require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([5],[,,,,,,,,,,,function(t,e,a){"use strict";var s=n(a(2)),i=n(a(12));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),i=a.n(s),n=a(16),r=!1;var o=function(t){r||a(13)},c=a(1)(i.a,n.a,o,null,null);c.options.__file="..\\..\\..\\..\\A\\my\\readbook\\client\\pages\\index\\index.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},function(t,e){},function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s,i=0,n=1,r=a(3);e.default={data:function(){return{categories:[{cateId:0,name:"全部"}],cateCurrentIndex:0,artList:[]}},onLoad:function(){s=this,n=1,r.sign(this.apiServer),t.request({url:this.apiServer+"category&m=index",method:"GET",success:function(t){if("ok"==t.data.status){var e=t.data.data;for(var a in e)s.categories.push({cateId:a,name:e[a]})}}}),this.getNewsList()},onPullDownRefresh:function(){n=1,this.artList=[],this.getNewsList()},onReachBottom:function(){this.getNewsList()},methods:{tabChange:function(t){var e=t.currentTarget.dataset.cateid,a=t.currentTarget.dataset.index;n=1,this.cateCurrentIndex=a,i=e,this.artList=[],this.getNewsList()},getNewsList:function(){t.showLoading({title:"加载中..."}),t.request({url:this.apiServer+"art&m=getList&cate="+i+"&page="+n,method:"GET",success:function(e){if("empty"==e.data.status)t.showToast({title:"已经加载全部",icon:"none"});else if("ok"==e.data.status){for(var a=e.data.data,i=0;i<a.length;i++){var r=a[i].art_content;r=JSON.parse(r);for(var o=[],c=0;c<r.length;c++)"image"==r[c].type&&o.push(r[c].content);a[i].art_content=o}s.artList=s.artList.concat(a),t.hideLoading(),n++}},complete:function(){t.stopPullDownRefresh()}})}}}}).call(e,a(0).default)},,function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"grace-padding"},[a("view",{staticClass:"grace-header-cate"},[a("scroll-view",{staticClass:"grace-tab-title grace-center",attrs:{"scroll-x":"true",id:"grace-tab-title"}},t._l(t.categories,function(e,s){return a("view",{key:s,class:[t.cateCurrentIndex==s?"grace-tab-current":""],attrs:{"data-cateid":e.cateId,"data-index":s,eventid:"kzK-0-"+s},on:{tap:t.tabChange}},[t._v(t._s(e.name))])}))],1),a("view",{staticClass:"grace-news-list"},t._l(t.artList,function(e,s){return a("block",{key:s},[e.art_content.length<3?a("navigator",{attrs:{"open-type":"navigate",url:"../info/info?artid="+e.art_id}},[a("view",{staticClass:"grace-news-list-img-news"},[a("view",{staticClass:"grace-news-list-title-main"},[t._v(t._s(e.art_title))]),e.art_content.length>0?a("view",{staticClass:"grace-news-list-img-big"},[a("image",{attrs:{src:e.art_content[0],mode:"widthFix"}})]):t._e()]),a("view",{staticClass:"grace-news-list-info"})]):t._e(),e.art_content.length>=3?a("navigator",{attrs:{url:"../info/info?artid="+e.art_id}},[a("view",{staticClass:"grace-news-list-img-news"},[a("view",{staticClass:"grace-news-list-title-main"},[t._v(t._s(e.art_title))]),a("view",{staticClass:"grace-news-list-imgs"},[a("image",{attrs:{src:e.art_content[0],mode:"widthFix"}}),a("image",{attrs:{src:e.art_content[1],mode:"widthFix"}}),a("image",{attrs:{src:e.art_content[2],mode:"widthFix"}})])]),a("view",{staticClass:"grace-news-list-info"})]):t._e()],1)}))])};s._withStripped=!0;var i={render:s,staticRenderFns:[]};e.a=i}],[11]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map